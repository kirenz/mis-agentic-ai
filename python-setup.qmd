---
title: "Python Environment"
---

This chapter sets up a reproducible Python workspace using [`uv`](https://github.com/astral-sh/uv), a fast package manager and virtual environment tool. The goal is to isolate your SQL Server project from other Python work and make dependency management painless.

## Install `uv`

`uv` creates isolated environments and manages dependencies declared in `pyproject.toml`.

- **macOS (Homebrew):**
  ```bash
  brew install uv
  ```
- **macOS (direct download, if Homebrew is not available):**
  ```bash
  curl -LsSf https://astral.sh/uv/install.sh | sh
  ```

- **Windows (Git Bash + winget):**
  ```bash
  winget install --id=astral-sh.uv --source=winget
  ```

  Run Git Bash as administrator so `winget` can install system-wide tools.

Verify the installation:

```bash
uv --version
```

## Initialize the project

Open Git Bash (Windows) or Terminal (macOS) and create a new project folder (we call it `database-project` here and install Python 3.11):

```bash
uv init database-project --python 3.11
```

This command creates a `pyproject.toml` file and a `.python-version` file that pin the Python version. To learn more about `uv init`, run `uv help init`.

## Add required packages

Use `uv` to declare the dependencies that power the examples in this book:

```bash
uv add pandas sqlalchemy python-dotenv pyodbc
```

- `pandas` helps you analyse data returned from SQL queries.
- `SQLAlchemy` offers a high-level interface for database connections.
- `python-dotenv` loads credentials from an `.env` file.
- `pyodbc` is the driver interface that talks to SQL Server via ODBC.

The packages are stored in a virtual environment under `.venv/`. Any script you run with `uv run ...` automatically uses that environment.

## Activate the environment in VS Code

1. Open the project folder in VS Code (`code .`).
2. When prompted about the Python interpreter, select the one located in `.venv/bin/python` (macOS) or `.venv\Scripts\python.exe` (Windows).
3. VS Code will remember this interpreter for the workspace. You can change it later via the Command Palette (`Ctrl`/`âŒ˜` + `Shift` + `P`, search for **Python: Select Interpreter**).

::: {.callout-tip}
You do **not** need to run `source .venv/bin/activate` when using `uv`. Just prefix Python commands with `uv run`, for example `uv run python connection.py`.
:::

With the Python environment ready, you can install the SQL Server drivers that bridge Python and the database engine.
